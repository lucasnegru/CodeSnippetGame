{% extends "base.html" %}
{% block content %}
<h1 class="text-2xl font-semibold mb-4">Aufgaben</h1>

<form method="get" class="mb-4 flex gap-2 items-end">
  <div>
    <label class="block text-sm">Sprache</label>
    <select name="language" class="border rounded p-2">
      <option value="">Alle</option>
      <option value="python" {{ 'selected' if lang=='python' else '' }}>Python</option>
      <option value="java" {{ 'selected' if lang=='java' else '' }}>Java</option>
    </select>
  </div>
  <div>
    <label class="block text-sm">Level</label>
    <select name="level" class="border rounded p-2">
      <option value="">Alle</option>
      {% for lv in [1,2,3,4] %}
      <option value="{{ lv }}" {{ 'selected' if level==lv else '' }}>{{ lv }}</option>
      {% endfor %}
    </select>
  </div>
  <button class="px-3 py-2 bg-slate-900 text-white rounded">Filtern</button>
</form>

<div class="grid md:grid-cols-2 gap-4">
  {% for s in snippets %}
  <a href="{{ url_for('snippet_view', sid=s.id) }}" class="block p-4 bg-white rounded-xl shadow hover:shadow-md transition">
    <div class="text-xs uppercase tracking-wide text-slate-500">Level {{ s.level }} â€¢ {{ s.language|capitalize }}</div>
    <div class="font-semibold mt-1">{{ s.title }}</div>
    <p class="text-sm text-slate-600 mt-1 line-clamp-2">{{ s.prompt }}</p>
  </a>
  {% else %}
  <p>Keine Aufgaben gefunden.</p>
  {% endfor %}
</div>
{% endblock %}
